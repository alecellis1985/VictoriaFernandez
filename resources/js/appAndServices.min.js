Professionals.factory("CommonService",["$http","$q","$upload",function(d,f,g){return{getRequest:function(c,a,b){var e=$.Deferred();b=b||f.defer();d.get(c+(void 0!=a?"?"+$.param(a):""),{timeout:b.promise}).success(function(a){e.resolve(a)});return e.promise()},getRequestCustom:function(c,a,b){var e=$.Deferred();b=b||f.defer();a=void 0!==a?"/"+$.param(a).replace("&","/"):"";d.get(c+a,{timeout:b.promise}).success(function(a){e.resolve(a)});return e.promise()},postRequest:function(c,a){var b=$.Deferred();
d.post(c,JSON.stringify(a)).success(function(a){b.resolve(a)});return b.promise()},postJsonRequest:function(c,a){var b=$.Deferred();d.post(c,a,{headers:{"Content-Type":"application/json;charset=utf-8"}}).success(function(a){b.resolve(a)});return b.promise()},postUrlEncoded:function(c,a){var b=$.Deferred();d.post(c,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){b.resolve(a)});return b.promise()},postRequestWithFile:function(c,a,b){return g.upload({url:c,file:b,
fields:a})}}}]);Professionals.factory("Helper",["$rootScope","$q","$http",function(d,f,g){var c={onlyNumbersRegex:/^[0-9]{1,10}$/,alphaNumericalRegex:/^[a-zA-Z0-9]+$/,alphaNumericalSpaceAndDashRegex:/^[a-zA-Z0-9_-\s\.]+$/,alphaNumericalDotSpaceAndDashRegex:/^[a-zA-Z0-9_-\s\.]+$/,emptyOralphaNumericalDotSpaceAndDashRegex:/^$|[a-zA-Z0-9_-\s\.]+$/};c.actualDate=new Date;c.actualY=c.actualDate.getFullYear();c.getUserRequestFlag=!1;c.getUserPromises=[];c.getUser=function(a){var b=f.defer();d.user&&!0!==a?b.resolve(d.user):
(c.pushUserPromise(b),!1===c.getUserRequestFlag&&(c.getUserRequestFlag=!0,g.get("api/users/loggedUser").success(function(a){c.getUserRequestFlag=!1;a.success?d.user=a:delete d.user;c.resolveUserPromises(a)})));return b.promise};c.pushUserPromise=function(a){c.getUserPromises.push(a)};c.resolveUserPromises=function(a){for(var b=f.defer();c.getUserPromises.length;)c.getUserPromises.pop().resolve(a),c.getUserPromises.length||b.resolve();return b.promise};c.setItem=function(a,b,e){c.getUser(!1).then(function(){a+=
d.user.UserId;localStorage.setItem(a,b)})};c.getItem=function(a,b){var e=f.defer();c.getUser(!1).then(function(){a+=d.user.UserId;e.resolve(localStorage.getItem(a))});return e.promise};c.removeItem=function(a,b){a+=d.user.UserId;localStorage.removeItem(a)};c.clearArray=function(a){for(;0<a.length;)a.pop()};c.isUndefinedOrNull=function(a){return null===a||void 0===a};c.Message=function(a,b){d.$broadcast("event:alertMessage",{level:a,message:b})};c.randomString=function(a){for(var b="",c=0;c<a;c++)b+=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return b};c.stringTime=function(a){var b=a.getHours();a=a.getMinutes();var c=0;10>b&&(b="0"+b);10>a&&(a="0"+a);10>c&&(c="0"+c);return b+":"+a+":"+c};c.timeFromString=function(a){a=a.split(":");var b,c;3===a.length&&(b=parseInt(a[0],10),c=parseInt(a[1],10));a=new Date;a.setHours(b);a.setMinutes(c);return a};c.getHorarioAtencionText=function(a,b){var c=a.substring(0,a.length-3),d=b.substring(0,b.length-3);return"De "+
c+" hs a "+d+" hs"};c.getDiasAtencionText=function(a){var b="";a.lunes&&(b="Lunes");a.martes&&(b+=""===b?"Martes":", Martes");a.miercoles&&(b+=""===b?"Miercoles":", Miercoles");a.jueves&&(b+=""===b?"Jueves":", Jueves");a.viernes&&(b+=""===b?"Viernes":", Viernes");a.sabado&&(b+=""===b?"Sabado":", Sabado");a.domingo&&(b+=""===b?"Domingo":", Domingo");return b};c.getFormasDePagoText=function(a){var b="";a.contado&&(b="Contado");a.debito&&(b+=""===b?"Debito":", Debito");a.credito&&(b+=""===b?"Credito":
", Credito");""!==a.otras&&(b+=""===b?a.otras:", "+a.otras);return b};return c}]);