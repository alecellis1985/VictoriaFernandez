Professionals.directive("mapLoadMarkers",function(){return{restrict:"E",scope:{locations:"="},template:'<div class="row"><div class="col-xs-12 col-md-12 col-sm-12"><div class="GoogleMap  col-xs-12 col-md-12 col-sm-12"></div></div></div>',link:function(a,b,c){a.mapOptions={zoom:8,center:new google.maps.LatLng(-34.8746349,-56.1472729),mapTypeId:google.maps.MapTypeId.TERRAIN};a.map=new google.maps.Map(b.find(".GoogleMap")[0],a.mapOptions);a.markers=[];new google.maps.InfoWindow;a.createMarker=function(b){b=
new google.maps.Marker({map:a.map,position:new google.maps.LatLng(b.latitude,b.longitude),title:b.city});a.markers.push(b)};if(void 0!==a.locations)for(b=a.locations.length,c=0;c<b;c++)a.createMarker(a.locations[c]);a.openInfoWindow=function(a,b){a.preventDefault();google.maps.event.trigger(b,"click")}}}});
Professionals.directive("mapSetMarkers",function(){return{restrict:"E",scope:{markersArr:"="},template:'<div class="row"><div class="form-group col-xs-12 col-md-2"><button ng-enabled="!markerOn" ng-click="setMarkerOn($event)" class="btn btn-primary pull-left">Agregar marcador</button></div></div><div class="row"><div class="col-xs-12 col-md-12 col-sm-12"><div class="GoogleMap  col-xs-12 col-md-12 col-sm-12"></div></div></div>',link:function(a,b,c){function e(){d.setContent('<button class="btn btn-primary pull-left deleteMarker">Borrar?</button>');
d.open(a.map,this);a.selectedMarker=this}a.mapOptions={zoom:8,center:new google.maps.LatLng(-34.8746349,-56.1472729),mapTypeId:google.maps.MapTypeId.TERRAIN};a.markerOn=!1;a.selectedMarker=null;a.setMarkerOn=function(b){b.preventDefault();a.markerOn=!0};a.map=new google.maps.Map(b.find(".GoogleMap")[0],a.mapOptions);google.maps.event.addListener(a.map,"click",function(b){a.markerOn&&(a.markerOn=!1,a.placeMarker(b.latLng))});var d=new google.maps.InfoWindow;a.placeMarker=function(b){b=new google.maps.Marker({position:b,
map:a.map});google.maps.event.addListener(b,"click",e);a.markersArr.push(b)};a.loadMarker=function(b,d){var c=new google.maps.Marker({map:a.map,position:new google.maps.LatLng(b.latitude,b.longitude)});google.maps.event.addListener(c,"click",e);a.markersArr[d]=c};a.openInfoWindow=function(a,b){a.preventDefault();google.maps.event.trigger(b,"click")};a.clearMarkers=function(b){b.preventDefault();b=a.markersArr.length;for(var d=0;d<b;d++)a.markersArr[d].setMap(null);a.markersArr=[]};$(document).on("click",
".deleteMarker",function(b){b.preventDefault();var d=a.selectedMarker;a.selectedMarker.setMap(null);a.selectedMarker=null;a.markersArr=$.grep(a.markersArr,function(a){return a!==d})});if(void 0!==a.markersArr)for(b=a.markersArr.length,c=0;c<b;c++)a.loadMarker(a.markersArr[c],c)}}});Professionals.directive("planesDetails",function(){return{restrict:"E",templateUrl:"resources/tpl/planes.html",scope:{selectedPlan:"=",elemColapsed:"=",selectedPlanFn:"&",availablePlans:"="},replace:!0,link:function(a,b,c){a.clearSelectedPlan=function(){a.elemColapsed=!0;a.selectedPlan={}}}}});
Professionals.directive("discountDirective",function(){return{restrict:"E",templateUrl:"resources/tpl/discountDirective.html",scope:{dividendo:"=",divisor:"=",meses:"="},link:function(a,b,c){a.cociente=0;a.$watch("divisor",function(b){void 0!==b&&(a.cociente=parseInt(100-100*a.divisor/(a.dividendo*a.meses)))})}}});Professionals.directive("imageUpload",function(){return{require:"ngModel",link:function(a,b,c,e){e.$validators.imageUpload=function(a,b){if("undefined"===typeof a||null===a||"undefined"===typeof a[0]||e.$isEmpty(a[0].name))return!0;var c=b[0].name.split("."),c=c[c.length-1].toUpperCase();return"JPEG"===c||"JPG"===c||"PNG"===c?!0:!1}}}});
Professionals.directive("username",["$q","$http",function(a,b){return{require:"ngModel",link:function(c,e,d,h){h.$asyncValidators.username=function(d,e){if(h.$isEmpty(d))return a.when();var f=a.defer();if(c.currentUsername===d)return f.resolve();b.post("api/check-username",{userName:d},{headers:{"Content-Type":"application/json;charset=utf-8"}}).success(function(a){a.success&&a.data.isUnique?f.resolve():f.reject()}).error(function(a,b,d,c){f.reject()});return f.promise}}}}]);
Professionals.directive("emailUnique",["$q","$timeout","$http",function(a,b,c){return{require:"ngModel",link:function(b,d,h,k){k.$asyncValidators.emailUnique=function(d,h){if(k.$isEmpty(d))return a.when();var g=a.defer();if(b.currentEmail===d)return g.resolve();c.post("api/check-email",{email:d},{headers:{"Content-Type":"application/json;charset=utf-8"}}).success(function(a,b,d,c){a.success&&a.data.isUnique?g.resolve():g.reject()}).error(function(a,b,d,c){g.reject()});return g.promise}}}}]);
Professionals.directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(a,b,c,e){e.$validators.compareTo=function(b){return b===a.otherModelValue}}}});Professionals.directive("userDetails",["$timeout",function(a){return{restrict:"E",templateUrl:"resources/tpl/userDetails.html",scope:{selectedUser:"=",categoria:"=",elemColapsed:"="},replace:!0,link:function(a,c,e){a.userMarkers=[];a.renderMap=!1;a.tabs=[{title:"Servicios",content:"resources/tpl/tabServicios.html",active:!0},{title:"Informaci\u00f3n",content:"resources/tpl/tabInformacion.html",active:!1},{title:"Formas de pago",content:"resources/tpl/tabFormadePago.html",active:!1},{title:"Mapa",
content:"resources/tpl/tabMap.html",active:!1}];a.tabSelected=function(d){1>a.selectedUser.markers.length||"Mapa"!==d.title||(a.userMarkers=a.selectedUser.markers,a.renderMap=!0)};a.$watch("elemColapsed",function(d){!1===d&&(a.tabs.map(function(a){a.active=!1}),a.tabs[0].active=!0,a.renderMap=!1)});a.$watch("selectedUser",function(d,c){d!==c&&null!==d&&void 0!==d&&!1===a.elemColapsed&&(a.tabs.map(function(a){a.active=!1}),a.tabs[0].active=!0,a.renderMap=!1)})}}}]);Professionals.directive("stopEvent",function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(a){a.stopPropagation()})}}});Professionals.directive("stopAllEvents",function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(a){a.stopPropagation();a.preventDefault()})}}});
Professionals.directive("disableBtn",function(){return{restrict:"A",link:function(a,b,c){"true"===c.disableBtn&&(b.addClass("notAvailable"),b.attr("title","No Disponible"),b.bind("click",function(a){a.stopPropagation();a.preventDefault()}))}}});
Professionals.directive("profACustom",function(){return{restrict:"E",scope:{hrefLink:"=",icon:"@",iconTitle:"@"},template:'<a href="{{hrefLink}}" target="_blank" title="{{profATitle}}" stop-Event><i class="{{icon}}"></i></a>',link:function(a,b,c){a.profATitle="No Disponible";a.checkHref=function(b,d){d&&""!==d?(b.off("click"),a.profATitle=a.iconTitle,b.removeClass("notAvailable"),b.attr("title","No Disponible")):(b.addClass("notAvailable"),a.profATitle="No Disponible",b.bind("click",function(a){a.preventDefault()}))};
a.checkHref(b.find("a"),a.hrefLink);a.$watch("hrefLink",function(c,d){a.checkHref(b.find("a"),c)},!0)}}});Professionals.directive("scrollToTop",["$document",function(a){return{restrict:"A",link:function(b,c,e){c.css("display","none");c.bind("click",function(){function b(a,c,e){if(!(0>e)){var f=(c-a.scrollTop)/e*10;setTimeout(function(){a.scrollTop+=f;b(a,c,e-10)},10)}}b(a[0].body,0,400)});$(window).scroll(function(){200>$(this).scrollTop()?c.fadeOut("slow"):c.fadeIn("slow")})}}}]);
Professionals.directive("dropdownFilter",function(){return{restrict:"E",templateUrl:"resources/tpl/dropdownDirective.html",scope:{selectedElem:"=",placeholderFilter:"@",nameProp:"@",idProp:"@",elementsArr:"=",selectedElementFn:"="},replace:!0,link:function(a,b,c){function e(a){return a.replace(/\u00e1/g,"a").replace(/\u00e9/g,"e").replace(/\u00ed/g,"i").replace(/\u00f3/g,"o").replace(/\u00fa/g,"u")}a.clearModel=function(b){a.dropdownFilter="";b.preventDefault();b.stopPropagation()};a.selectedElement=
a.selectedElementFn||function(b,c){b.preventDefault();a.selectedElem=c};a.ignoreAccents=function(b){if(!a.dropdownFilter)return!0;b=e(b[a.nameProp].toLowerCase());var c=e(a.dropdownFilter.toLowerCase());return-1<b.indexOf(c)}}}});
Professionals.directive("dropdownWValidation",["$timeout",function(a){return{restrict:"E",templateUrl:"resources/tpl/dropdownWValidation.html",scope:{selectedElem:"=",placeholderFilter:"@",nameProp:"@",elementsArr:"=",selectedElementFn:"=",checkFn:"&",errorMsg:"@",postSelectionFn:"&"},replace:!0,link:function(b,c,e){function d(a){return a.replace(/\u00e1/g,"a").replace(/\u00e9/g,"e").replace(/\u00ed/g,"i").replace(/\u00f3/g,"o").replace(/\u00fa/g,"u")}b.dropdownError=!1;b.clearModel=function(a){b.dropdownFilter=
"";a.preventDefault();a.stopPropagation()};b.selectedElement=b.selectedElementFn||function(c,d){c.preventDefault();b.selectedElem=d;b.dropdownError=b.checkFn({elem:b.selectedElem});a(function(){b.postSelectionFn()},100)};b.ignoreAccents=function(a){if(!b.dropdownFilter)return!0;a=d(a[b.nameProp].toLowerCase());var c=d(b.dropdownFilter.toLowerCase());return-1<a.indexOf(c)}}}}]);
Professionals.directive("resize",["$window",function(a){return function(b,c,e){var d=angular.element(a);b.getWindowDimensions=function(){return{h:d.height(),w:d.width()}};b.$watch(b.getWindowDimensions,function(a,c){b.windowHeight=a.h;b.windowWidth=a.w;b.style=function(){var b=$(".footer").height();return{"min-height":a.h-e.resizeHeight-b+"px"}}},!0);d.bind("resize",function(){b.$apply()})}}]);
Professionals.directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter)}),b.preventDefault())})}});Professionals.directive("triggerClick",["$timeout",function(a){return{restrict:"E",template:'<span ng-click="clickAction()">{{text}}</span>',scope:{selector:"@",text:"@"},replace:!0,link:function(b,c,e){b.clickAction=function(){a(function(){angular.element(b.selector).trigger("click")},100)}}}}]);
Professionals.directive("fancyImg",["$timeout",function(a){return{restrict:"E",template:'<div class="backgroundImg"></div>',scope:{backgroundUrl:"@"},replace:!0,link:function(a,c,e){a.Url="url('uploaded/"+a.backgroundUrl+"')";c.css("background-image",a.Url)}}}]);