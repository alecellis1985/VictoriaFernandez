<div class="row propagandaMargins" ng-controller="TopPropagandaController" ng-include="template.topPropaganda"></div>
<div class="row headerSearch">
    <div class="container">
        <div class="row no-padding-right" style="margin-bottom: 10px;">
            <div class="form-group col-xs-12 col-md-3">
                <dropdown-Filter selected-Elem="selectedCategoria" name-Prop="categoriaNombre" elements-Arr="categorias" placeholder-Filter="Filtro de categorias"></dropdown-Filter>                
            </div>      
            <div class="form-group col-xs-12 col-md-3">
                <dropdown-Filter selected-Elem="depSelected" selected-Element-Fn="selectDepartamento" name-Prop="nombreDepartamento" elements-Arr="departamentosList" placeholder-Filter="Filtro de departamentos"></dropdown-Filter>  
            </div>
            <div class="form-group col-xs-12 col-md-3" ng-show="depSelected.nombreDepartamento === 'Montevideo'">
                <dropdown-Filter selected-Elem="selectedBarrio" name-Prop="barrioNombre" elements-Arr="barrios" placeholder-Filter="Filtro de barrios"></dropdown-Filter>                       
            </div>
            <div class="form-group col-xs-12 col-md-2">
                <div class="input-group col-xs-12 col-md-12"> 
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button>
                    </span>
                    <input type="text" class="form-control" ng-model="buscoProf" placeholder="Buscar...">
                </div>
            </div>

            <!--<div class="form-group col-xs-12 col-md-1"> 
                <i ng-class="{'searchIconActive':selectedList === 1}" ng-click="setListType(1)" class="glyphicon glyphicon-list searchIcons"></i>
                <i ng-class="{'searchIconActive':selectedList === 2}" ng-click="setListType(2)" class="glyphicon glyphicon-th-large searchIcons"></i>
            </div>-->  
        </div>
        <user-Details selected-User="selectedUser" elem-Colapsed="isCollapsed"></user-Details>
        <div class="panel panel-primary " ng-if="selectedList === 1">
            <div class="panel-heading">
                <h3 class="panel-title">Usuarios</h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>Nombre</th>
                                <th>Apellido</th>
                                <th>Email</th>
                                <th>Telefono</th>
                                <th>Celular</th>
                                <th>Direccion</th>
                                <th>departamento</th>
                                <th>categoria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="user in users| filter:buscoProf">
                                <td>{{user.username}}</td>
                                <td>{{user.nombre}}</td>
                                <td>{{user.apellido}}</td>
                                <td>{{user.email}}</td>
                                <td>{{user.telefono}}</td>
                                <!-- TODO ADD IMG user.imagenUrl-->
                                <td>{{user.celular}}</td>
                                <td>{{user.direccion}}</td>
                                <td>{{user.departamento}}</td>
                                <td>{{user.categoria}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row" ng-show="selectedList === 2">
            <div class="col-xs-12 col-sm-6 col-md-4 " ng-repeat="user in users| filter:buscoProf">
                <div class="col-xs-12 col-sm-12 col-md-12 card" ng-click="showUserInfo(user)">
                    <div class="row">
                        <div class="col-xs-4 col-md-4 col-sm-4">
                            <div class='row'>
                                <div class="col-xs-12 col-md-12 col-sm-12">
                                    <img class="img-responsive img-rounded" ng-if="user.imagenUrl !== ''" ng-src="{{'uploaded/' + user.imagenUrl}}" alt="{{user.nombre + ' ' + user.apellido}}"> <!--$location.absUrl().split('#')[0] + -->
                                    <i ng-if="user.imagenUrl === ''" class="img-responsive fa fa-user"></i>
                                </div>                                
                            </div>
                        </div>
                        <div class="col-xs-8 col-md-8 col-sm-8">
                            <div class="row">
                                <h2 ng-bind="user.nombre + ' ' + user.apellido"></h2>
                            </div>
                            <div class="row">
                                <p ng-bind="user.descService" style='text-transform: capitalize;'></p>
                            </div>
                            <div class="row">
                                <label>Teléfono: </label>
                                <span ng-bind="user.telefono"></span>
                            </div>
                            <div class="row">
                                <label>Dirección: </label>
                                <span ng-bind="user.direccion"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-xs-12">
                            <prof-a-custom href-Link="user.facebookUrl" icon="fa fa-facebook-official" icon-Title="Facebook"></prof-a-custom>
                            <prof-a-custom href-Link="user.twitterUrl" icon="fa fa-twitter-square" icon-Title="Twitter"></prof-a-custom>
                            <prof-a-custom href-Link="user.linkedinUrl" icon="fa fa-linkedin-square" icon-Title="Linkedin"></prof-a-custom>
                            <button type="submit" class="btn btn-primary pull-right" title="Contactar me" ng-click='sendMailToUser($event, user)'>
                                <i class="glyphicon glyphicon-envelope"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearBoth"></div>
    </div>
</div>